{% extends 'base.html' %}
{% load static %}

{% block title %}TaskOn - Начало работы{% endblock %}

{% block links %}
<link rel="icon" type="img/svg+xml" href="{% static 'img/headIcons/event-1-svgrepo-com.svg' %}">
<link rel="icon" href="{% static 'img/headIcons/video_card.ico' %}" sizes="any">
<link rel="icon" type="img/png" href="{% static 'img/headIcons/event-1-svgrepo-com.png' %}">

<link rel="stylesheet" type="text/css" href="{% static 'css/reset.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/dashboardPage.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">

<link href="https://fonts.googleapis.com/css2?family=Alegreya+SC&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@700&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=PT+Sans+Caption&display=swap" rel="stylesheet">
{% endblock %}

{% block body_attributes %}id="Topic1"{% endblock %}

{% block header %}
{% include 'header_dashboard.html' %}
{% endblock %}

{% block content %}
{% csrf_token %}
<main class="gridsp-1-15 grey-frame mrgn-all03-grey-frame">
    <article class="flex1 flex-main">
        <div>
            <h2 class="flex-main-h2">Выберите режим работы</h2>
        </div>
        
        <div class="mode-selection">
            <p>Пожалуйста, выберите предпочтительный режим использования системы:</p>
            
            <div class="mode-container">
                <div class="mode-card" id="personal-mode" onclick="selectMode('personal')">
                    <i class="fas fa-user"></i>
                    <h3>Личный раздел</h3>
                    <p>Планирование личных встреч и управление личным расписанием</p>
                </div>
                
                <div class="mode-card" id="corporate-mode" onclick="selectMode('corporate')">
                    <i class="fas fa-building"></i>
                    <h3>Корпоративный раздел</h3>
                    <p>Работа в системе корпоративного планирования</p>
                </div>
                
                <div class="mode-card" id="both-mode" onclick="selectMode('both')">
                    <i class="fas fa-th-large"></i>
                    <h3>Оба режима</h3>
                    <p>Использование всех возможностей системы</p>
                </div>
            </div>
        </div>
        
        <div class="container" style="margin-top: 20px;">
            <button id="continue-btn" class="hidden" onclick="savePreferences()">Продолжить</button>
        </div>
    </article>
</main>
<aside class="gridsp-16-3 mrgn-lft0-grey-frame grey-frame">
    <h2>Панель уведомлений</h2>
    <div id="notifications-container" class="notification-container">
        {% for notification in notifications %}
        <div class="notification">
            <div class="notification-header">
                <span class="notification-title">{{ notification.title }}</span>
                <span class="notification-date">{{ notification.created_at|date:"d.m.Y H:i" }}</span>
            </div>
            <p class="notification-message">{{ notification.message }}</p>
        </div>
        {% empty %}
        <p>Нет новых уведомлений</p>
        {% endfor %}
    </div>
</aside>
{% endblock %}

{% block footer %}
{% comment %}Футер отключен в шаблоне starter.html{% endcomment %}
{% endblock %}

{% block scripts %}
<script src="{% static 'js/headerSlider.js' %}"></script>
<script src="{% static 'js/preferenceSelector.js' %}"></script>
<script src="{% static 'js/dashboardOperator.js' %}"></script>
{% endblock %} 